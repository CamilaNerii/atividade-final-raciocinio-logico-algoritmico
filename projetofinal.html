<script>

// Trabalho Lógica de progração
 
    // Validações entradas

    var quantidadeDeAlunos;

    while(true) {
        var quantidadeDeAlunosDigitado = prompt ("Digite a quantidade de alunos:");

        if (quantidadeDeAlunosDigitado === null) {
            quantidadeDeAlunos = 0;
            break;
        }
        var quantidadeDeAlunosNumero = Number(quantidadeDeAlunosDigitado);
            if (Number.isInteger(quantidadeDeAlunosNumero) && quantidadeDeAlunosNumero > 0) {
            quantidadeDeAlunos = quantidadeDeAlunosNumero;
        break;
        }  
        alert( "Favor inserir números inteiros de alunos.");
        }

    function pedirNotaValida(mensagem) {
       var nota;
       var entradaValida = false;
    do {
        var verEntrada = prompt(mensagem);
        if (verEntrada === null || verEntrada.trim() === "") {
        alert("A nota não pode ser deixada em branco. Por favor, digite um valor numérico.");
    }else {
    }
   
    // Verificação do valor inserido ( se é número, ou não).

        verEntrada = verEntrada.replace(',','.');
        nota = Number(verEntrada);
            if (!isNaN(nota)) {
            if ( nota >= 0 && nota <= 10){
            entradaValida = true;
        } else { alert("Nota inválida. Por favor, inserir números entre 0 a 10")
    }
        } else { alert("Entrada inválida. Por favor, digite APENAS números para a nota.");
    }
        } while (!entradaValida);
    return nota;
    }
    // Vetores

        var quantidadeAlunos = quantidadeDeAlunos;
        var nome = [];
        var notas1 = [];
        var notas2 = [];
        var medias = [];

    //Entrada de dados e cálculo da média

        for (let i = 0; i < quantidadeAlunos; i++) {
        nome[i] = prompt(`Nome do Aluno ${i + 1} :`);
        notas1[i] = pedirNotaValida(`Digite a nota 1 do aluno ${i + 1} :`);
        notas2[i] = pedirNotaValida(`Digite a nota 2 do aluno ${i + 1} :`);
        }

    // Cálculo da média

       function calcularMedia(notas) {
       let soma = 0;
       for (let nota of notas) {
       soma += nota;
      }
      return soma / notas.length;
      } 
      for (let i=0; i< quantidadeDeAlunos; i++) {
      medias[i] = calcularMedia([notas1[i],notas2[i]]);
      }

    //Ordenação pelo método bolha (por média)

      for (var i = 0; i < quantidadeAlunos - 1; i++) {
        for (var j = 0; j < quantidadeAlunos - 1 - i; j++) {
            if (medias[j] > medias[j + 1]) {

                var tempMedia = medias[j];
                medias[j] = medias[j + 1];
                medias[j + 1] = tempMedia;

                var tempNome = nome[j];
                nome[j] = nome[j + 1];
                nome[j + 1] = tempNome;

                var tempN1 = notas1[j];
                notas1[j] = notas1[j + 1];
                notas1[j + 1] = tempN1;

                var tempN2 = notas2[j];
                notas2[j] = notas2[j + 1];
                notas2[j + 1] = tempN2;
            }
        }
    }
     // Contar aprovados e reprovados
    var aprovados = 0; 
    var reprovados = 0;

    for (var i = 0; i < quantidadeAlunos; i++) {
        if (medias[i] >= 5) {
            aprovados++;
        } else {
            reprovados++;
        }
    }
    //Exibir resultados com document.write()
    document.write("<h2>Resultados Finais</h2>");
    document.write("<h3>Médias em ordem crescente:</h3>");
    for (var i = 0; i < quantidadeAlunos; i++) {
        document.write("Aluno: " + nome[i] + " | Média: " + medias[i].toFixed(2) + "<br>");
    }
    document.write("<hr>");
    document.write("<p><strong>Total de alunos:</strong> " + quantidadeAlunos + "</p>");
    document.write("<p><strong>Aprovados (média ≥ 5):</strong> " + aprovados + "</p>");
    document.write("<p><strong>Reprovados (média < 5):</strong> " + reprovados + "</p>");

</script>
